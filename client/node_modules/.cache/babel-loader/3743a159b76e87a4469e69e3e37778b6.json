{"ast":null,"code":"import React from 'react';\nimport Utils from '../utils/utils';\nimport Mixins from '../utils/mixins';\nimport F7Input from './input';\nimport F7Link from './link';\nimport __reactComponentWatch from '../runtime-helpers/react-component-watch.js';\nimport __reactComponentDispatchEvent from '../runtime-helpers/react-component-dispatch-event.js';\nimport __reactComponentSlots from '../runtime-helpers/react-component-slots.js';\nimport __reactComponentSetProps from '../runtime-helpers/react-component-set-props.js';\n\nclass F7Messagebar extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.__reactRefs = {};\n\n    (() => {\n      Utils.bindMethods(this, ['onChange', 'onInput', 'onFocus', 'onBlur', 'onClick', 'onAttachmentDelete', 'onAttachmentClick,', 'onResizePage']);\n    })();\n  }\n\n  clear(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.clear(...args);\n  }\n\n  getValue(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.getValue(...args);\n  }\n\n  setValue(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.setValue(...args);\n  }\n\n  setPlaceholder(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.setPlaceholder(...args);\n  }\n\n  resize(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.resizePage(...args);\n  }\n\n  focus(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.focus(...args);\n  }\n\n  blur(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.blur(...args);\n  }\n\n  attachmentsShow(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.attachmentsShow(...args);\n  }\n\n  attachmentsHide(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.attachmentsHide(...args);\n  }\n\n  attachmentsToggle(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.attachmentsToggle(...args);\n  }\n\n  sheetShow(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.sheetShow(...args);\n  }\n\n  sheetHide(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.sheetHide(...args);\n  }\n\n  sheetToggle(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.sheetToggle(...args);\n  }\n\n  onChange(event) {\n    this.dispatchEvent('change', event);\n  }\n\n  onInput(event) {\n    this.dispatchEvent('input', event);\n  }\n\n  onFocus(event) {\n    this.dispatchEvent('focus', event);\n  }\n\n  onBlur(event) {\n    this.dispatchEvent('blur', event);\n  }\n\n  onClick(event) {\n    const self = this;\n    let value;\n    {\n      value = self.refs.area.refs.inputEl.value;\n    }\n    const clear = self.f7Messagebar ? () => {\n      self.f7Messagebar.clear();\n    } : () => {};\n    this.dispatchEvent('submit', value, clear);\n    this.dispatchEvent('send', value, clear);\n    this.dispatchEvent('click', event);\n  }\n\n  onAttachmentDelete(instance, attachmentEl, attachmentElIndex) {\n    this.dispatchEvent('messagebar:attachmentdelete messagebarAttachmentDelete', instance, attachmentEl, attachmentElIndex);\n  }\n\n  onAttachmentClick(instance, attachmentEl, attachmentElIndex) {\n    this.dispatchEvent('messagebar:attachmentclick messagebarAttachmentClick', instance, attachmentEl, attachmentElIndex);\n  }\n\n  onResizePage(instance) {\n    this.dispatchEvent('messagebar:resizepage messagebarResizePage', instance);\n  }\n\n  get classes() {\n    const self = this;\n    const props = self.props;\n    const {\n      className,\n      attachmentsVisible,\n      sheetVisible\n    } = props;\n    return Utils.classNames(className, 'toolbar', 'messagebar', {\n      'messagebar-attachments-visible': attachmentsVisible,\n      'messagebar-sheet-visible': sheetVisible\n    }, Mixins.colorClasses(props));\n  }\n\n  render() {\n    const self = this;\n    const {\n      placeholder,\n      disabled,\n      name,\n      readonly,\n      resizable,\n      value,\n      sendLink,\n      id,\n      style\n    } = self.props;\n    const {\n      default: slotsDefault,\n      'before-inner': slotsBeforeInner,\n      'after-inner': slotsAfterInner,\n      'send-link': slotsSendLink,\n      'inner-start': slotsInnerStart,\n      'inner-end': slotsInnerEnd,\n      'before-area': slotsBeforeArea,\n      'after-area': slotsAfterArea\n    } = self.slots;\n    const innerEndEls = [];\n    let messagebarAttachmentsEl;\n    let messagebarSheetEl;\n\n    if (slotsDefault) {\n      slotsDefault.forEach(child => {\n        if (typeof child === 'undefined') return;\n        let tag;\n        tag = child.type && (child.type.displayName || child.type.name);\n\n        if (tag && (tag.indexOf('messagebar-attachments') >= 0 || tag === 'F7MessagebarAttachments' || tag === 'f7-messagebar-attachments')) {\n          messagebarAttachmentsEl = child;\n        } else if (tag && (tag.indexOf('messagebar-sheet') >= 0 || tag === 'F7MessagebarSheet' || tag === 'f7-messagebar-sheet')) {\n          messagebarSheetEl = child;\n        } else {\n          innerEndEls.push(child);\n        }\n      });\n    }\n\n    const valueProps = {};\n    if ('value' in self.props) valueProps.value = value;\n    return React.createElement('div', {\n      ref: __reactNode => {\n        this.__reactRefs['el'] = __reactNode;\n      },\n      id: id,\n      style: style,\n      className: self.classes\n    }, slotsBeforeInner, React.createElement('div', {\n      className: 'toolbar-inner'\n    }, slotsInnerStart, React.createElement('div', {\n      className: 'messagebar-area'\n    }, slotsBeforeArea, messagebarAttachmentsEl, React.createElement(F7Input, Object.assign({\n      ref: __reactNode => {\n        this.__reactRefs['area'] = __reactNode;\n      },\n      type: 'textarea',\n      wrap: false,\n      placeholder: placeholder,\n      disabled: disabled,\n      name: name,\n      readonly: readonly,\n      resizable: resizable,\n      onInput: self.onInput,\n      onChange: self.onChange,\n      onFocus: self.onFocus,\n      onBlur: self.onBlur\n    }, valueProps)), slotsAfterArea), (sendLink && sendLink.length > 0 || slotsSendLink) && React.createElement(F7Link, {\n      onClick: self.onClick\n    }, slotsSendLink || sendLink), slotsInnerEnd, innerEndEls), slotsAfterInner, messagebarSheetEl);\n  }\n\n  componentWillUnmount() {\n    const self = this;\n    if (self.f7Messagebar && self.f7Messagebar.destroy) self.f7Messagebar.destroy();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    __reactComponentWatch(this, 'props.sheetVisible', prevProps, prevState, () => {\n      const self = this;\n      if (!self.props.resizable || !self.f7Messagebar) return;\n      self.updateSheetVisible = true;\n    });\n\n    __reactComponentWatch(this, 'props.attachmentsVisible', prevProps, prevState, () => {\n      const self = this;\n      if (!self.props.resizable || !self.f7Messagebar) return;\n      self.updateAttachmentsVisible = true;\n    });\n\n    const self = this;\n    if (!self.f7Messagebar) return;\n    const {\n      sheetVisible,\n      attachmentsVisible\n    } = self.props;\n\n    if (self.updateSheetVisible) {\n      self.updateSheetVisible = false;\n      self.f7Messagebar.sheetVisible = sheetVisible;\n      self.f7Messagebar.resizePage();\n    }\n\n    if (self.updateAttachmentsVisible) {\n      self.updateAttachmentsVisible = false;\n      self.f7Messagebar.attachmentsVisible = attachmentsVisible;\n      self.f7Messagebar.resizePage();\n    }\n  }\n\n  componentDidMount() {\n    const self = this;\n    const {\n      init,\n      top,\n      resizePage,\n      bottomOffset,\n      topOffset,\n      maxHeight\n    } = self.props;\n    if (!init) return;\n    const el = self.refs.el;\n    if (!el) return;\n    const params = Utils.noUndefinedProps({\n      el,\n      top,\n      resizePage,\n      bottomOffset,\n      topOffset,\n      maxHeight,\n      on: {\n        attachmentDelete: self.onAttachmentDelete,\n        attachmentClick: self.onAttachmentClick,\n        resizePage: self.onResizePage\n      }\n    });\n    self.$f7ready(() => {\n      self.f7Messagebar = self.$f7.messagebar.create(params);\n    });\n  }\n\n  get slots() {\n    return __reactComponentSlots(this.props);\n  }\n\n  dispatchEvent(events, ...args) {\n    return __reactComponentDispatchEvent(this, events, ...args);\n  }\n\n  get refs() {\n    return this.__reactRefs;\n  }\n\n  set refs(refs) {}\n\n}\n\n__reactComponentSetProps(F7Messagebar, Object.assign({\n  id: [String, Number],\n  className: String,\n  style: Object,\n  sheetVisible: Boolean,\n  attachmentsVisible: Boolean,\n  top: Boolean,\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  bottomOffset: {\n    type: Number,\n    default: 0\n  },\n  topOffset: {\n    type: Number,\n    default: 0\n  },\n  maxHeight: Number,\n  resizePage: {\n    type: Boolean,\n    default: true\n  },\n  sendLink: String,\n  value: [String, Number, Array],\n  disabled: Boolean,\n  readonly: Boolean,\n  textareaId: [Number, String],\n  name: String,\n  placeholder: {\n    type: String,\n    default: 'Message'\n  },\n  init: {\n    type: Boolean,\n    default: true\n  }\n}, Mixins.colorProps));\n\nF7Messagebar.displayName = 'f7-messagebar';\nexport default F7Messagebar;","map":{"version":3,"sources":["/home/faraz/courses/SE/myapp/node_modules/framework7-react/components/messagebar.js"],"names":["React","Utils","Mixins","F7Input","F7Link","__reactComponentWatch","__reactComponentDispatchEvent","__reactComponentSlots","__reactComponentSetProps","F7Messagebar","Component","constructor","props","context","__reactRefs","bindMethods","clear","args","f7Messagebar","undefined","getValue","setValue","setPlaceholder","resize","resizePage","focus","blur","attachmentsShow","attachmentsHide","attachmentsToggle","sheetShow","sheetHide","sheetToggle","onChange","event","dispatchEvent","onInput","onFocus","onBlur","onClick","self","value","refs","area","inputEl","onAttachmentDelete","instance","attachmentEl","attachmentElIndex","onAttachmentClick","onResizePage","classes","className","attachmentsVisible","sheetVisible","classNames","colorClasses","render","placeholder","disabled","name","readonly","resizable","sendLink","id","style","default","slotsDefault","slotsBeforeInner","slotsAfterInner","slotsSendLink","slotsInnerStart","slotsInnerEnd","slotsBeforeArea","slotsAfterArea","slots","innerEndEls","messagebarAttachmentsEl","messagebarSheetEl","forEach","child","tag","type","displayName","indexOf","push","valueProps","createElement","ref","__reactNode","Object","assign","wrap","length","componentWillUnmount","destroy","componentDidUpdate","prevProps","prevState","updateSheetVisible","updateAttachmentsVisible","componentDidMount","init","top","bottomOffset","topOffset","maxHeight","el","params","noUndefinedProps","on","attachmentDelete","attachmentClick","$f7ready","$f7","messagebar","create","events","String","Number","Boolean","Array","textareaId","colorProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Utils from '../utils/utils';\nimport Mixins from '../utils/mixins';\nimport F7Input from './input';\nimport F7Link from './link';\nimport __reactComponentWatch from '../runtime-helpers/react-component-watch.js';\nimport __reactComponentDispatchEvent from '../runtime-helpers/react-component-dispatch-event.js';\nimport __reactComponentSlots from '../runtime-helpers/react-component-slots.js';\nimport __reactComponentSetProps from '../runtime-helpers/react-component-set-props.js';\n\nclass F7Messagebar extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.__reactRefs = {};\n\n    (() => {\n      Utils.bindMethods(this, ['onChange', 'onInput', 'onFocus', 'onBlur', 'onClick', 'onAttachmentDelete', 'onAttachmentClick,', 'onResizePage']);\n    })();\n  }\n\n  clear(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.clear(...args);\n  }\n\n  getValue(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.getValue(...args);\n  }\n\n  setValue(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.setValue(...args);\n  }\n\n  setPlaceholder(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.setPlaceholder(...args);\n  }\n\n  resize(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.resizePage(...args);\n  }\n\n  focus(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.focus(...args);\n  }\n\n  blur(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.blur(...args);\n  }\n\n  attachmentsShow(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.attachmentsShow(...args);\n  }\n\n  attachmentsHide(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.attachmentsHide(...args);\n  }\n\n  attachmentsToggle(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.attachmentsToggle(...args);\n  }\n\n  sheetShow(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.sheetShow(...args);\n  }\n\n  sheetHide(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.sheetHide(...args);\n  }\n\n  sheetToggle(...args) {\n    if (!this.f7Messagebar) return undefined;\n    return this.f7Messagebar.sheetToggle(...args);\n  }\n\n  onChange(event) {\n    this.dispatchEvent('change', event);\n  }\n\n  onInput(event) {\n    this.dispatchEvent('input', event);\n  }\n\n  onFocus(event) {\n    this.dispatchEvent('focus', event);\n  }\n\n  onBlur(event) {\n    this.dispatchEvent('blur', event);\n  }\n\n  onClick(event) {\n    const self = this;\n    let value;\n    {\n      value = self.refs.area.refs.inputEl.value;\n    }\n    const clear = self.f7Messagebar ? () => {\n      self.f7Messagebar.clear();\n    } : () => {};\n    this.dispatchEvent('submit', value, clear);\n    this.dispatchEvent('send', value, clear);\n    this.dispatchEvent('click', event);\n  }\n\n  onAttachmentDelete(instance, attachmentEl, attachmentElIndex) {\n    this.dispatchEvent('messagebar:attachmentdelete messagebarAttachmentDelete', instance, attachmentEl, attachmentElIndex);\n  }\n\n  onAttachmentClick(instance, attachmentEl, attachmentElIndex) {\n    this.dispatchEvent('messagebar:attachmentclick messagebarAttachmentClick', instance, attachmentEl, attachmentElIndex);\n  }\n\n  onResizePage(instance) {\n    this.dispatchEvent('messagebar:resizepage messagebarResizePage', instance);\n  }\n\n  get classes() {\n    const self = this;\n    const props = self.props;\n    const {\n      className,\n      attachmentsVisible,\n      sheetVisible\n    } = props;\n    return Utils.classNames(className, 'toolbar', 'messagebar', {\n      'messagebar-attachments-visible': attachmentsVisible,\n      'messagebar-sheet-visible': sheetVisible\n    }, Mixins.colorClasses(props));\n  }\n\n  render() {\n    const self = this;\n    const {\n      placeholder,\n      disabled,\n      name,\n      readonly,\n      resizable,\n      value,\n      sendLink,\n      id,\n      style\n    } = self.props;\n    const {\n      default: slotsDefault,\n      'before-inner': slotsBeforeInner,\n      'after-inner': slotsAfterInner,\n      'send-link': slotsSendLink,\n      'inner-start': slotsInnerStart,\n      'inner-end': slotsInnerEnd,\n      'before-area': slotsBeforeArea,\n      'after-area': slotsAfterArea\n    } = self.slots;\n    const innerEndEls = [];\n    let messagebarAttachmentsEl;\n    let messagebarSheetEl;\n\n    if (slotsDefault) {\n      slotsDefault.forEach(child => {\n        if (typeof child === 'undefined') return;\n        let tag;\n        tag = child.type && (child.type.displayName || child.type.name);\n\n        if (tag && (tag.indexOf('messagebar-attachments') >= 0 || tag === 'F7MessagebarAttachments' || tag === 'f7-messagebar-attachments')) {\n          messagebarAttachmentsEl = child;\n        } else if (tag && (tag.indexOf('messagebar-sheet') >= 0 || tag === 'F7MessagebarSheet' || tag === 'f7-messagebar-sheet')) {\n          messagebarSheetEl = child;\n        } else {\n          innerEndEls.push(child);\n        }\n      });\n    }\n\n    const valueProps = {};\n    if ('value' in self.props) valueProps.value = value;\n    return React.createElement('div', {\n      ref: __reactNode => {\n        this.__reactRefs['el'] = __reactNode;\n      },\n      id: id,\n      style: style,\n      className: self.classes\n    }, slotsBeforeInner, React.createElement('div', {\n      className: 'toolbar-inner'\n    }, slotsInnerStart, React.createElement('div', {\n      className: 'messagebar-area'\n    }, slotsBeforeArea, messagebarAttachmentsEl, React.createElement(F7Input, Object.assign({\n      ref: __reactNode => {\n        this.__reactRefs['area'] = __reactNode;\n      },\n      type: 'textarea',\n      wrap: false,\n      placeholder: placeholder,\n      disabled: disabled,\n      name: name,\n      readonly: readonly,\n      resizable: resizable,\n      onInput: self.onInput,\n      onChange: self.onChange,\n      onFocus: self.onFocus,\n      onBlur: self.onBlur\n    }, valueProps)), slotsAfterArea), (sendLink && sendLink.length > 0 || slotsSendLink) && React.createElement(F7Link, {\n      onClick: self.onClick\n    }, slotsSendLink || sendLink), slotsInnerEnd, innerEndEls), slotsAfterInner, messagebarSheetEl);\n  }\n\n  componentWillUnmount() {\n    const self = this;\n    if (self.f7Messagebar && self.f7Messagebar.destroy) self.f7Messagebar.destroy();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    __reactComponentWatch(this, 'props.sheetVisible', prevProps, prevState, () => {\n      const self = this;\n      if (!self.props.resizable || !self.f7Messagebar) return;\n      self.updateSheetVisible = true;\n    });\n\n    __reactComponentWatch(this, 'props.attachmentsVisible', prevProps, prevState, () => {\n      const self = this;\n      if (!self.props.resizable || !self.f7Messagebar) return;\n      self.updateAttachmentsVisible = true;\n    });\n\n    const self = this;\n    if (!self.f7Messagebar) return;\n    const {\n      sheetVisible,\n      attachmentsVisible\n    } = self.props;\n\n    if (self.updateSheetVisible) {\n      self.updateSheetVisible = false;\n      self.f7Messagebar.sheetVisible = sheetVisible;\n      self.f7Messagebar.resizePage();\n    }\n\n    if (self.updateAttachmentsVisible) {\n      self.updateAttachmentsVisible = false;\n      self.f7Messagebar.attachmentsVisible = attachmentsVisible;\n      self.f7Messagebar.resizePage();\n    }\n  }\n\n  componentDidMount() {\n    const self = this;\n    const {\n      init,\n      top,\n      resizePage,\n      bottomOffset,\n      topOffset,\n      maxHeight\n    } = self.props;\n    if (!init) return;\n    const el = self.refs.el;\n    if (!el) return;\n    const params = Utils.noUndefinedProps({\n      el,\n      top,\n      resizePage,\n      bottomOffset,\n      topOffset,\n      maxHeight,\n      on: {\n        attachmentDelete: self.onAttachmentDelete,\n        attachmentClick: self.onAttachmentClick,\n        resizePage: self.onResizePage\n      }\n    });\n    self.$f7ready(() => {\n      self.f7Messagebar = self.$f7.messagebar.create(params);\n    });\n  }\n\n  get slots() {\n    return __reactComponentSlots(this.props);\n  }\n\n  dispatchEvent(events, ...args) {\n    return __reactComponentDispatchEvent(this, events, ...args);\n  }\n\n  get refs() {\n    return this.__reactRefs;\n  }\n\n  set refs(refs) {}\n\n}\n\n__reactComponentSetProps(F7Messagebar, Object.assign({\n  id: [String, Number],\n  className: String,\n  style: Object,\n  sheetVisible: Boolean,\n  attachmentsVisible: Boolean,\n  top: Boolean,\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  bottomOffset: {\n    type: Number,\n    default: 0\n  },\n  topOffset: {\n    type: Number,\n    default: 0\n  },\n  maxHeight: Number,\n  resizePage: {\n    type: Boolean,\n    default: true\n  },\n  sendLink: String,\n  value: [String, Number, Array],\n  disabled: Boolean,\n  readonly: Boolean,\n  textareaId: [Number, String],\n  name: String,\n  placeholder: {\n    type: String,\n    default: 'Message'\n  },\n  init: {\n    type: Boolean,\n    default: true\n  }\n}, Mixins.colorProps));\n\nF7Messagebar.displayName = 'f7-messagebar';\nexport default F7Messagebar;"]},"metadata":{},"sourceType":"module"}